<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/header.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/group.css') }}">
</head>
<body>
    <div class="header">
        <h1>{{ group_name }} - Group Information - ID {{ group_id }}</h1>
        <div class="auth-links">
            {% if not current_user.is_authenticated %}
            <a href="{{ url_for('login') }}">Login</a>
            <a href="{{ url_for('register') }}">Register</a>
            {% else %}
            <a href="{{ url_for('profile') }}">My Profile</a>
            <a href="{{ url_for('logout') }}">Logout</a>
            {% endif %}
        </div>
    </div>

    <div class="container">
        <h2>Group Members</h2>
        <table id="members">
            <tr>
                <th>Email</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Status</th>
            </tr>
            {% for member in members_info.members %}
            <tr>
                <td>{{ member.email }}</td>
                <td>{{ member.first_name }}</td>
                <td>{{ member.last_name }}</td>
                <td>
                    {% if member.status == 2 %}
                    Creator
                    {% elif member.status == 1 %}
                    Accepted
                    {% elif member.status == 0 %}
                    Pending
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </table>
        <h2>Top Voted Dishes</h2>
        <table id="topVotes">
            <tr>
                <th>Rank</th>
                <th>Dish URI</th>
            </tr>
            {% for vote in votes_info.topDishes %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ vote.dish_uri }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
</body>
</html>
