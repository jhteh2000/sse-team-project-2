<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose your food</title>
    <link rel="stylesheet" href="../static/css/user_info.css">
</head>
<body>
    <div id="userProfileContainer" class="container">
        <h1>{{ current_user.first_name }}</h1><!--Enter Group Name-->
        <p><strong>Number of Members:</strong> {{ current_user.last_name }}</p><!--edit these-->
        <p><strong>Number of Voted:</strong> {{ current_user.last_name }}</p>
        <p><strong>Status:</strong> {{ current_user.email }}</p>
    
        <h2>Share top 3 favorites with group!</h2>

        {% if favorites["count"] > 0 %}
        <div class="favorites-grid">
            {% for i in range(favorites["count"]) %}
            <div class="food-box" data-uri='{{ favorites["uri"][i] | tojson }}' data-ingredientlist='{{ favorites["ingredient"][i] | tojson }}' data-recipeurl='{{ favorites["recipeURL"][i] | tojson }}'>
                <img src="{{ favorites['image'][i] }}" alt="{{ favorites['name'][i] }}">
                <h3>{{ favorites['name'][i] }}</h3>
                <div class="details">
                    <p>Calories: {{ favorites['calories'][i] }} kcal</p>
                    <p>Protein: {{ favorites['protein'][i] }} g</p>
                </div>
                <label for="rank{{ i }}">Rank:</label>
                <select id="rank{{ i }}" name="rank{{ i }}">
                    <option value="1">1st</option>
                    <option value="2">2nd</option>
                    <option value="3">3rd</option>
                </select>
                <button class="favorite-btn active" data-food-id="{{ i }}">  </button>
            </div>
            {% endfor %}
            <br><br>
        </div>
        {% else %}
        <p>Favorites list is empty! </p>
        {% endif %}

        <a href="{{ url_for('group') }}" class="btn btn-primary">Go to Group</a>
    </div>

    

    <div id="hoverWindow" class="hidden">
        <div id="contentContainer">
          <!-- Content will be added dynamically here -->
        </div>
        <br>
        <a href="#" id="closeWindowBtn"></a>
    </div>

    <!-- Button Container placed right after the userProfileContainer -->
    <div class="button-container">
        <a href="javascript:history.back()" class="button">Back to Previous Page</a>
        <a href="/" class="button">Skip your vote</a>
    </div>

    <script src="../static/js/recipe.js"></script>
    <script src="../static/js/storeFav.js"></script>


</body>
<style>
    body {
      background-image: url('https://images.unsplash.com/photo-1607619784547-07ac0be98721?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDE0fHx8ZW58MHx8fHx8&w=1000&q=80');
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-size: cover;
    }
</style> 
</html>